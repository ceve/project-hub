*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#f5f7fa;--surface:#fff;--text:#1a1a2e;--text-muted:#6b7280;--primary:#4f46e5;--primary-hover:#4338ca;--danger:#dc2626;--danger-hover:#b91c1c;--border:#e5e7eb;--radius:8px;--shadow:0 1px 3px rgba(0,0,0,.1)}
body{font-family:system-ui,-apple-system,sans-serif;background:var(--bg);color:var(--text);line-height:1.6}
a{color:var(--primary);text-decoration:none}

/* Navbar */
.navbar{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1.5rem;background:var(--surface);border-bottom:1px solid var(--border);position:sticky;top:0;z-index:10}
.navbar-brand a{font-size:1.25rem;font-weight:700;color:var(--text)}
.navbar-links{display:flex;align-items:center;gap:1rem;flex-wrap:wrap}
.navbar-user{color:var(--text-muted);font-size:.875rem}

/* Buttons */
.btn{padding:.5rem 1rem;border:none;border-radius:var(--radius);cursor:pointer;font-size:.875rem;font-weight:500;transition:background .15s}
.btn-primary{background:var(--primary);color:#fff}.btn-primary:hover{background:var(--primary-hover)}
.btn-danger{background:var(--danger);color:#fff}.btn-danger:hover{background:var(--danger-hover)}
.btn-sm{padding:.25rem .5rem;font-size:.8rem}

/* Layout */
.app-layout{min-height:100vh}
.main-content{max-width:1200px;margin:0 auto;padding:1.5rem}
.loading{display:flex;justify-content:center;padding:3rem;color:var(--text-muted)}

/* Auth pages */
.auth-page{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:1rem;background:var(--bg)}
.auth-form{background:var(--surface);padding:2rem;border-radius:var(--radius);box-shadow:var(--shadow);width:100%;max-width:400px}
.auth-form h1{margin-bottom:1.5rem;text-align:center}
.auth-form label{display:block;margin-bottom:1rem;font-size:.875rem;font-weight:500}
.auth-form input{display:block;width:100%;padding:.5rem;margin-top:.25rem;border:1px solid var(--border);border-radius:var(--radius);font-size:1rem}
.auth-form button[type=submit]{width:100%;margin-top:.5rem}
.auth-form p{text-align:center;margin-top:1rem;font-size:.875rem;color:var(--text-muted)}

/* Alerts */
.alert{padding:.75rem 1rem;border-radius:var(--radius);margin-bottom:1rem;font-size:.875rem}
.alert-error{background:#fef2f2;color:var(--danger);border:1px solid #fecaca}

/* Page header */
.page-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;flex-wrap:wrap;gap:1rem}

/* Cards & grid */
.card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:1rem;box-shadow:var(--shadow)}
.form-card{display:flex;flex-direction:column;gap:.75rem;margin-bottom:1.5rem}
.form-card input,.form-card textarea{padding:.5rem;border:1px solid var(--border);border-radius:var(--radius);font-size:.9rem;font-family:inherit}
.form-card textarea{min-height:60px;resize:vertical}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem}
.project-card{transition:border-color .15s;display:block;color:var(--text)}
.project-card:hover{border-color:var(--primary)}
.project-card h3{margin-bottom:.5rem}
.project-card p{color:var(--text-muted);font-size:.875rem;margin-bottom:.5rem}
.project-card small{color:var(--text-muted);font-size:.75rem}
.empty{color:var(--text-muted);text-align:center;padding:2rem;grid-column:1/-1}

/* Project detail */
.project-detail .page-header{align-items:flex-start}
.project-columns{display:flex;gap:1.5rem;flex-wrap:wrap}
.tasks-panel{flex:1;min-width:300px}
.comments-panel{flex:1;min-width:300px;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:1rem;align-self:flex-start}

/* Tasks */
.add-task{display:flex;gap:.5rem;margin-bottom:1rem}
.add-task input{flex:1;padding:.5rem;border:1px solid var(--border);border-radius:var(--radius);font-size:.9rem}
.task-group{margin-bottom:1rem}
.task-group h3{font-size:.8rem;text-transform:uppercase;letter-spacing:.05em;margin-bottom:.5rem;padding:.25rem .5rem;border-radius:4px}
.status-todo{background:#dbeafe;color:#1d4ed8}
.status-in_progress{background:#fef3c7;color:#b45309}
.status-done{background:#d1fae5;color:#047857}
.task-item{display:flex;align-items:center;justify-content:space-between;padding:.5rem .75rem;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);margin-bottom:.375rem;cursor:pointer;transition:border-color .15s;gap:.5rem}
.task-item:hover{border-color:var(--primary)}
.task-item.active{border-color:var(--primary);box-shadow:0 0 0 1px var(--primary)}
.task-actions{display:flex;align-items:center;gap:.375rem;flex-shrink:0}
.task-actions select{padding:.2rem;font-size:.75rem;border:1px solid var(--border);border-radius:4px}

/* Comments */
.comments-list{max-height:400px;overflow-y:auto;margin-bottom:1rem}
.comment{padding:.75rem;border-bottom:1px solid var(--border)}
.comment:last-child{border-bottom:none}
.comment strong{font-size:.875rem}
.comment p{margin:.25rem 0;font-size:.875rem}
.comment small{color:var(--text-muted);font-size:.75rem}
.add-comment{display:flex;flex-direction:column;gap:.5rem}
.add-comment textarea{padding:.5rem;border:1px solid var(--border);border-radius:var(--radius);font-size:.875rem;font-family:inherit;min-height:60px;resize:vertical}

/* Admin */
.table-wrapper{overflow-x:auto}
.data-table{width:100%;border-collapse:collapse;background:var(--surface);border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow)}
.data-table th,.data-table td{padding:.75rem 1rem;text-align:left;border-bottom:1px solid var(--border);font-size:.875rem}
.data-table th{background:var(--bg);font-weight:600}
.badge{padding:.2rem .5rem;border-radius:12px;font-size:.75rem;font-weight:600}
.badge-admin{background:#ede9fe;color:#6d28d9}
.badge-user{background:#dbeafe;color:#2563eb}

/* Responsive */
@media(max-width:768px){
  .main-content{padding:1rem}
  .project-columns{flex-direction:column}
  .navbar{flex-direction:column;gap:.5rem}
  .navbar-links{justify-content:center}
  .grid{grid-template-columns:1fr}
  .page-header{flex-direction:column;align-items:stretch}
}
